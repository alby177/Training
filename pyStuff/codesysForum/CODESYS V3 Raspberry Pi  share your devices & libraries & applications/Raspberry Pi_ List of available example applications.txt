Raspberry Pi appliation examples and code snippets:Applications which come with the Pi package:'c:\Users\<youwindowsUsername>\CODESYS Control for Raspberry PI\2.1.1.0'Camera.project CameraStream.project EtherCAT.project GPIO.project I2CExamples.projectMCP23S17.project MCP3008Temperature.project Onewire.project OPCUA.project PiFace.project PiFace_FB.project PiFaceControlAndDisplay.project PiFaceIoDrv.project SoftMotion Servo Example.projectWebvisu.projectImportant for using these examples:1. Update device (rightclick on Pi in the device tree - this is needed for fieldbus stacks too)2. set current compiler Version3. set current visuprofile then the projects are up to date.Application shared by CODESYS Pi users:Delta Robot wth rc servosShow Ip and use calendar from OSACT for timer functions (starting once a day Events) , visu: rotate bitmapCommunication  with Domoticz , bulding automationHow to use Serial Communication SyscomHow to use SoftMotionLightwith the PiHow to use a table in the visualisation for Input valuesHow to implement a FTP Client by using the OSCAT Network libHow to get the result of Shell comand to IEC codeProfinet with Raspberry Pi (using Pi2 recommended) acyclic read -Service / diagnosisPiFace with ladder / read and Show own IP address in visuVisu User Login see Client IP AddressCODESYS V3 RPi DATABASE .txt file on SD if RPI shut down AddressElsner P03/3-RS485 RS485-Weatherstation with Raspberry PiTextEditor Example ApplicationRaspberry Pi 3 Modbus TCP Master and Arduino Mega Modbus TCP SlaveRaspberry Pi - GoogleMaps with WebvisuWebbrowser ElementImported CODESYS V2.3 Project ExampleCheck the Raspberry PI CODESYS License on Runtime Key and SoftLicenseRaspberry PI as Profinet Slave project exampleRaspberry PI Onewire - improved Project two tasksCommunication - 2 Raspberry PI Modbus TCP1-Wire Busmaster / USB Hostadapter DS9490R OWFS2 Raspberry Pi communication with Ethernet IPUsing RFID USB Reader with Raspberry PICommunication with SONOS speakersending notifications by pushoverUsing a python opcua client to access symbold in the CODESYS projectadd python scripts in CODESYS as external file and execute them on PIUnicorn HAT exampleUsing I2C Port-Expander PCF8574 without I2C libraryVisu UserManagement Switch logged in User by IECcodeEnocean exampleIO-Link example based on Control RTE

https://www.youtube.com/watch?v=h9rLOWm7NiU

-How to use Oscat calendar and timer2 for starting Outputs once a day or only on specific weekday -How to Show the raspberry pi current ip address on / internal visu and webvius page-Rotate bitmap in visu

Building Automation example, comunication with Domoticsz

Beside CAASerialCom using Syscom.library is possible too.Here is the example for it.(See viewtopic.php?f=21&t=5699 for CAASerialCom example)on Linux side  you need to indentify your serial port and activate it in /etc/CODESYSControl.cfgHow to do this:1. you need to check on linux side which tty port is available.Example a USB to serial converter:Check under Linux with 'dmesg' which device is used for it:in my case it reports: ttyUSB0so you need to add in /etc/CODESYSControl.cfg(Attention you need to remove the 0 from USB0)[SysCom]Linux.Devicefile=/dev/ttyUSBportnum := COM.SysCom.SYS_COMPORT1;this was the pi side under Linux2. then after reboot or restart plc, you could communicate via serial com

Example how to use SoftMotionLight with Raspberry Pi.(no realtime is needed for SoftMotionLight - drive should support DS402)Check your drive for SoftMotionLight capability with:"c:\Program Files (x86)\3S CODESYS\CODESYS\Projects\SoftMotion\SoftMotionLight\SML_CompatibilityCheck_DS402.project"

1. Numpad2. keyboard3. toggle a value4. Keypad

FTP Client example.(OSCAT Network and OSCAT Basic is used)

Read ProcessorTemperature of the Pi and Show cpuinfo in IEC -add in /etc/CODESYSControl.cfg the [SysProcess] sectionOutput of the executed command will be filled into pszStdOut

Profinet Example with Raspberry Pi (Pi2 recommended)

PiFace with ladder example

Visu Userlogin

here I can show example of saving INT values int txt file on Raspberry Pi SDI have used pymodbus TCP to create modbusMaster(client) on port 503, with 10 holdt_register and 10 input_registersin Cosesys v3 create ModBusSlave TCP also with 10 holdt_register and 10 input_registers,if raspberry pi shut down , at start you can get 10 int values from file vars.txt on SDHow to make start at boot pymodbus master(client)using PuTTY:#sudo nano /etc/init.d/autorunand paste text from autorun.txtCtrl + xyEnter#sudo chmod 777 /etc/init.d/autorun#sudo update-rc.d /etc/init.d/autorun defaults#cd /home/pi/Documents/pymodbus/examples/commonroot@raspberrypi:/home/pi/Documents/pymodbus/examples/common# sudo nano test.pyand paste text from test.py.txtCtrl + xyEnterbefore ShutDown RaspberryPi Download CodesysProject and try:#sudo /etc/init.d/autorun startoutput:Starting autorundonewait to start ethernet , wait for Codesys Slave to start 20seccycle: 1Input0: 57648Input1: 57649Input2: 57650Input3: 57651Input4: 57652Input5: 57653Input6: 57654Input7: 57655Input8: 57656Input9: 57657line0: 57648line1: 57649line2: 57650line3: 57651line4: 57652line5: 57653line6: 57654line7: 57655line8: 57656line9: 57657cycle: 2

Example Application with RS485 connected Elsner P03/3-RS485Prefered Interface (USB to RS482 Serial adapter)https://www.amazon.de/gp/product/B00GWE ... UTF8&psc=1(Advantage does not use any specific kernel module - you could use latest Debian)For Raspi Comm the following is needed:/etc/CODESYSControl.cfg[SysCom]Linux.Devicefile=/dev/ttyUSBmaybe another options is:Link: http://www.elsner-elektronik.de/shop/de ... rs485.htmlRS485 Extension: RasPi CommFor Raspi Comm the following is needed:/etc/CODESYSControl.cfg[SysCom]Linux.Devicefile=/dev/ttyRPCwget http://downloads.amescon.com/rpc_setup.sh && chmod +x ./rpc_setup.sh && sudo ./rpc_setup.shsudo raspi-configenable:	1. Devicetree	2. I2C	3. SPIRS485 Port is/dev/ttyRPC0

TextEditor Application, edit and save/read your textfiles

Autor: alecudr viewtopic.php?f=21&t=6884

Google Maps Application in Webvisu

Example for using the Webbrowser Element

Check the if license is activated on Runtime KEY and SoftLicense!

Imported CODESYS V2.3 Project Example

In this project eth1 interface is used for the profinet connection to the ProfinetMasteryou need to add in  /etc/CODESYSControl.cfg (Version <3.5SP12)>= 3.5Sp12 /etc/CODESYSControl_User.cfg[SysSocket]Adapter.0.Name="eth1"Adapter.0.EnableSetIpAndMask=1and execute in the Linux consoleifconfig eth1  promisc das in /etc/rc.local einbauen

Read the onewire sensor in an own onewire Task / scan connected sensorsRescan while running is possible by reset - xIF NOT x THEN	x := TRUE;	//scan function Onewire_master.Scan();	FOR ui:=1 TO MIN(Onewire_master.uiScannedDevices, 20) DO		astrID[ui] := Onewire_master.pasScannedDevices^[ui-1].StringRepresentation;		//dynamic write the scanned sensors to the configuration		DS18B20.ID := Onewire_master.pasScannedDevices^[ui-1];	END_FOREND_IFactDate := DS18B20.stdTimeStamp;SysTimeRtcConvertDateToUtc(actDate,dwActDate);dtTimestamp := DWORD_TO_DT(dwActDate);

Communication - 2 Raspberry PI Modbus TCP

Using OWFS to read onewireWhich device is used on this example1-Wire Busmaster / USB Hostadapter DS9490R, Eco-Line; Art-Nr: 0167Important links to bring it up:DS9490R:http://pdfserv.maximintegrated.com/en/d ... S9490R.pdfhttp://owfs.org/index.php?page=usb-ds9490r Info and wiring (Parasitic Power):https://shop.wiregate.de/1-wire-bus Installation:https://www.raspberrypi.org/forums/view ... 9&p=505250 additional Infos:https://www.fischer-net.de/hausautomati ... eil-2.html

Raspberry Pi communication with Ethernet /IP Scanner and Adapter

Reading RFID's with an USB RFID reader.(KKmoon Berührungslose 14443A IC Kartenlesegerät Kartenleser Card Reader mit USB Schnittstelle )(Webvisu is mandatory for doing this - we use the visu key Event handling)

Author: TONCommuniction with Sonos speakersProgram made with:- PlayBar (Woonkamer)- PLay 1 (Left)- PLay 1 (Right)- Sub (Subwoofer)- Play 3 (Keuken)- Play 1 (Badkamer)- Play 1 (Slaapkamer)Uses UDP socket for upnp Discover, TCP Server for events and TCP Client for commands.Visualization for each group.Display play status each group.Control Play, Pause, Next, Previous each group.Control Volume and Mute for each player.See property each speaker by dialog.Max 10 groups, 10 speakers with 3 satellites(LR, RR en SW).Play doorbelFunctions:- Find Sonos players with upnp discovery- Find correct local ip if more then one network adapters- Subscribe/Unsubscribe upnp events- ZoneGroupTopology (for enumerate groups)- AVTransport (get actual play status)- RenderingControl (get volume/mute)- Get XML player info- Dialog box to display player info- Webvisu. http://xxx.xxx.xxx.xxx:8080/webvisu.htm

Author: TONPush notification to Android/ios/desktop withPusover.https://pushover.net/.Push notification to your device with title, message, sound and application.For $5 (once) you can push 7500 notifications per month.With this account you can create notification for applications.This application has name, token, icon,.. So you can create a clear structure.In this example you see a notification for three applications.I use this for over a year and works like a charm.I just use some of the possibilities, there a more. See https://pushover.net/api.

Using an opcua python client for communcation with plc symbols (either on the same PI or remote PI)How to use it:1.  Install OPCUA python:sudo apt-get install python3-lxmlpip3 install opcua2.  download CODESYS Project to the Pi and start it:Use the OPCUA Project from the Pi examples"c:\Users\<WindowsUserName>\CODESYS Control for Raspberry PI\3.5.12.0\Examples\OPCUA.project"Sample Python OPC UA Client.py example for browsing the variables/symbols

This is an example using the Unicorn HAT:How to add python script and download them to the Pi and execute them on the PI.https://www.youtube.com/watch?v=R9x-QX2 ... e=youtu.be

This example shows how to use a port-expander PCF8574 I2C without library/device descriptionfrom the application code.Control Christmas lights:https://www.youtube.com/watch?v=6vsxV-Bj6-4

Demo Project for VisuUaserManagement, show statistic who is logged in,Change logged in user by iec code.

Using enocean with the Raspberry PiSee:https://youtu.be/mYaqMY8ddAk

How to use IO-Link devices with Ethercat and Gateway EL6224https://www.youtube.com/watch?v=GadTtFrnUEc

