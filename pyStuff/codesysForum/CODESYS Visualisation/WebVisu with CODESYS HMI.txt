I am trying to run WebVisu on a Codesys HMI device. I am running WebVisu without issue on multiple other controllers on the same network, so it is not a browser issue. The target for Codesys HMI is a Windows 7 PC. The Windows Firewall has been disabled, and while the PC is also running Apache that listens on port 80, it has been turned off to troubleshoot this issue. I have monitored the network traffic and it appears that the WebVisu is not running, or at least ignoring connect attempts. The browser error returned is ERR_CONNECTION_REFUSED. Any ideas? Does WebVisu not run on a Codesys HMI device? Is there anything I should change in the config file?Attachment:Screen Shot 2017-12-06 at 3.05.32 PM.png

Hi,this should work,check in the configfile of the HMI (CoDeSysHMI.cfg )I would add the following section (copied from Control Win) - probably the Default port 8080 is already used by another application?[CmpWebServer];The handling of startup/shutdown of the webserver:;0->automatically start, shutdown only on shutdown of the runtime;1->automatically start, could be shutdown on demand;2(default)->start/shutdown on demand;3->start on demand, shutdown only on shutdown of the runtimeStartupType=2;The TCP port the webserver listens onWebServerPortNr=8080BREdwin

Hi Edwin,I added the variables to the config file and it didn't help. I have tried each of the following on 3 computers: one with Windows 10 and two with Windows 7.- Added variables to only CoDeSysHMI.cfg -> Result: no change.- Added variables to only CODESYSControl.cfg -> Result: no change.- Added variables to both CoDeSysHMI.cfg and CODESYSControl.cfg -> Result: no change.- Changed port to 8081 -> Result: no change.I restarted CODESYS HMI each time to reload the config files. I also restarted the OS a few times. After trying the above, I:- Deleted the TargetVisualization and left WebVisu in the project -> Result: no change.- Started a new project with a CODESYS HMI device, added a Visualization Manager, and left the default TargetVisualization and WebVisualization objects -> Result: no difference.I also verified that nothing was listening on 8080 or 8081 via the command prompt with "netstat -a -b -n -o". The netstat output was checked without CODESYS HMI running. Then, CODESYS HMI was started, and again no processes were listening on 8080 (I changed the file back). I did verify that the netstat output was updating by starting up the Apache and mySQL servers, both of which showed up in the output on their respective ports (80 and 3306) after being started.Any other ideas? Have you seen this working before? With a CODESYS HMI device, that is?

Hi Jerry,you need to use at least 3.5SP10 (better current Version) to have the Webservercapabilities in the HMI.For me, it was not clear that this is SP9.Since SP10 the HMI does use Symbol configuration to get the symbols from your plc.This is a different mechanism than it was in 3.5SP9BREdwin

Hi EdwinThank you for your reply. I am using SP9 because that is the release the controller manufacturer is on, and in my previous experience the HMI version has needed to match the controller version. From another post I read, it sounds like the SP10 version of the HMI will connect as far back as some 2.x controllers via the symbol configuration, so Iâ€™ll give that a try. That would solve the issue from my other post as well since the DataServer would go away. I have to give some thought to how it will affect the overall project though. We are exchanging a large amount of data, so if performance is improved, that will be good. Thank you again.

