Hello together,I am having a problem with starting a script via CODESYS.  My goal is to create a screenshot via a button click or via an input. For doing this I am using the"Sys Process Execute Command" command (no spaces of course, but it screws up the layout somehow). I altered the CODESYSControl.cfg to Code:[SysProcess]Command=AllowAlland I created a script named takeScreenshot which looks like:Code:#!/bin/shDISPLAY=:0 scrot -d 1 'screenshot.png'I made it executable with Code:sudo chmod +x /usr/bin/takeScreenshotFinally I tested the script with typing Code:takeScreenshot in the terminal and it works like a charm.So I started to implement the command in Codesys like this:Code:IF take_Screenshot AND NOT take_Screenshot_old THEN   sCommand := 'takeScreenshot';   SysProcess.Sys Process Execute Command(sCommand, ADR(Result));END_IFtake_Screenshot_old:=take_Screenshot;Now the problem: It does not work   As a result I get "0" and no screenshot. But if I am trying another command like "reboot" or "ifdown" it works without any problems. I dont have a clue. Can someone help?Thanks and GreetingsAndy

You could pipe the console output to a file and see what turns up.  Perhaps something like thisCode:IF take_Screenshot AND NOT take_Screenshot_old THEN   sCommand := 'takeScreenshot >> log.txt';   SysProcess.Sys Process Execute Command(sCommand, ADR(Result));END_IF

_________________Rick

Hi Rick,thank you for your reply.Unfortunatly the command is not executed by the Raspberry Pi (unlike a reboot command or similar). So no log is being created. Although it works when I am typing the exact same command in the Raspi terminal.Attachment:ScreenshotCommand.JPGGreetingsAndreas

In the Codesys Log (cat /tmp/codesyscontrol.log) I get the following messageAttachment:CODESYS Log.JPGI tried to use "DISPLAY=:0 scrot -d 1" as sCommand as well with the same result.

