Hi everyone! Please help me with MSP3008 chip . I need some examples and configuration in Codesys. I was able to do just that.

Hi,there is an ready to use example here:'c:\Users\<YourWindowsUserName>\CODESYS Control for Raspberry PI\2.1.1.0\MCP3008Temperature.project'In the project you Access the FB by MCP3008.auiValue[0]Code:lrU := UINT_TO_LREAL(MCP3008.auiValue[0]) / 1024 * 3.3;lrTemp := lrU * 100; See the description in the pdf:"c:\Users\<YourWindowsUserName>\CODESYS Control for Raspberry PI\2.1.1.0\RaspberryPI_en.pdf" BREdwin

Edwin Schwellinger wrote:Hi,there is an ready to use example here:BREdwinThank you very much! I try it.

Tell me please how to connect the chip.My conection:MCP3008                 Raspi B+Pin 15-16                GPIO1   - Power 3,3VPin 13                    GPIO23  - CLKPin 12                    GPIO21 -  MISOPin 11                    GPIO19 -  MOSIPin 10                    GPIO8  -   CE0Pin 9-14                 GNDIs it right?Have some problem. Zero value in CH0 MCP3008 but 3,3V there.

Thank you;Its working.

Hello everybody! What is the default  speed of SPI How can I change the speed of SPI?

Guten Tag,Ich habe Probleme bei der Einbindung eines MCP3008 über SPIFolgende Fehler habe ich aktuell:- Es wird mir angezeigt, dass der Bus nicht läuft unter: SPI master E/A AbbildMuss ich noch irgendwelche Einstellungen vornehmen ?Zum Beispiel bei den SPI master Paramtern ?Ich arbeite mit dem Beispielprojekt MCP3008Temperature.projectAngeschlossen sollte alles richtig sein, denn ich habe mal nach dieser Anleitung das Python Skript ausgeführt und es funktiniert einwandfreihttps://www.raspiprojekt.de/machen/basi ... imitstart=Habe grad eben noch auf Version 3.5.8 Patch 2 und den PI auf 3.5.8.10 geupdatet leider hat das keine Änderung gebracht.Kann mir Jemand helfen ? Bin ganz neu in der Codesys Welt und habe bisher nur mit Siemens gearbeitet.Liebe GrüßeAttachment:Unbenannt.jpg

Hi,hast du auf dem PImit sudo raspi-config device tree, SPI aktiviert?GrüßeEdwinPS:im englischen Forum solltest du in englisch "posten".

Entschuldigung dafür, dass ich in deutsch schreibe, ich dachte nur es sei relativ egal, denn ich habe schon viele Beiträge hier in Deutsch gesehenAber ja SPI ist aktiviert und funktioniert auch, denn mit dem Python Skript aus meinem letzten Post läuft es ohne Probleme und er gibt mir Werte von 0 - 1023 raus.Muss man denn noch irgendetwas einstellen an der Konfiguration oder ist das Beispiel Projekt komplett vorkonfiguriert ?

Hi,es ist leider so das die Foren getrennt sind.Eigentlich ist es so das das Projekt einfach funktionieren sollte.Welchen PI hast du PIB+, PI2...?GrüßeEdwin

Ok also das Problem hat sich grad erledigt.Ich habe nochmal den PI komplett neu aufgesetzt und es hat sofort funktioniert.Vorher hatte ich ein vorkonfiguriertes Image, welches bei dem LCD Display dabei war, das in betriebe, installiert. Danke für Ihre MüheNur irgendwie würde es mich ja trotzdem interessieren weshalb es nicht funktioniert hat....

