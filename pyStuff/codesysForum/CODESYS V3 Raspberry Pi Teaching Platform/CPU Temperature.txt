Hi,Can I read the CPU Temperature?How can I do it?Thanks for any help.Straccio80

Hello Straccio80,Type: /opt/vc/bin/vcgencmd measure_tempin the command window (SSH). This should show the Raspberry Pi cpu temperature.BR,Carsten

Thank you Carsten,my goal is read the temperature in a variable inside the codesys project.Is it possible?BRStraccio80

Hi,this will be possible with the 3.5SP7 release (mid of July)There is a new SysProcess2 which will allow to give the result of the Shell comannds to CODESYS.See screenshot.BREdwin

Thank You Edwin,I'll wait it.BRStraccio80

HalloGibt es auch die Möglichkeit dies zu machen wenn man im Continuous Funktion Chart (CFC) programmiert? Kann keinen entsprechenden Baustein finden.Danke für HilfeLg

Hallo,in CFC: (screenshot)GrüßeEdwin

HalloHerzlichen Dank für die Antwort.Bibliothek war nicht beim Projekt dabei (Bibliotheksverwalter) darum konnte ich den Baustein nicht finden. Wie dumm von mir.Bei dem Bausteinaufruf bekomme ich keinen Wert zurück (stdout bleibt leer). Auf Result bekomme ich einen Wert von 25 was es bedeutet "No access rights for this operation ". Daraus schließe ich, dass das der Befehl anders lauten muss. Aber wie?In der CodesysControl.cfg habe ich bis jetzt nichts eingetragen. Muss ich das?Lg

Hi,bitte englisch im englischen Forum you need to enable in/etc/CODESYSControl.cfgthe shell commandsBREdwin

hiit works.thanks

HiI have sp7 patch 3 installed , I cannot use SysProcess  , do i need to import a library or is it possible to post a simple example project ?Thank you .

here is the full example project:viewtopic.php?f=23&t=6247&p=12387#p12711BREdwin

Thank YouI can open the example ok . How do I import the sysProcess library to a blank project ?

add library and then type in the search line what ever you know from the library,after that double click on the selection in the Dialog... that's itBREdwin

Please see attached screenshot

hi,but this is not 3.5.7.x Version which you are using isn't it?In older versions -> switch to professional feature set in current Version this should work without problems.BREdwin

hi  I am using v3.5 sp3 patch 3 +

Hi,any chance for updating the CODESYS Developmentsystem?BNREdwin

ok sorry  how do I do this ?

Hi,here you could download the CODESYS Developmentsystem in current version:http://store.codesys.com/engineering/codesys.html-Install it.-Install the Raspberry PI Package in the PackageManager in CODESYS.BREdwin

HiI uninstalled everything and installed codesys v3.5 sp7 patch 3  and codesys control for raspberry pi 2.2.0.2 .I still can not add the library , but when I open the example project It works .

Hi,you mean if you type: SysProcess (in the green field?)This does not occure like in in my screenshotBREdwin

Hi Yes , it is like the screenshot that I attached earlier , when I type in sys in the search field there is no library named SysProcess .

Edwin Schwellinger wrote:Hi,you mean if you type: SysProcess (in the green field?)This does not occure like in in my screenshotBREdwinI have the same problem also, I am running V3.5 SP9 patch1 and when I type SysProcess there is no matching libraries.

All,I found the solution... apparently this is an "Advanced" library. So in order for it to be visible to be added you have to click the little "+" icon on the add library window.

Dears.I have try to use this method to read the temperature in a patched_rt kernel.I had to pass the function to an assync task, if not watchdog rises.But passing to assink, the jitter in main task increases to some ms. I sopose that is caused because the external call is made with same priorities as cidesys is running and the main task interrupt is blocked.Can I call the system function changing process owner or priority or....

