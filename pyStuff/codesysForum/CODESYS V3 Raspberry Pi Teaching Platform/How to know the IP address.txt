Hello My raspberry get an IP address by a DHCP server. I want to show it on a visualisation page.What function block and what library should J use to find the IP address by programme......Thank you in advance for your reply  

Hi Jabib,use SysSocket lib following codesnippet or check attached Project exampleCode:PROGRAM PLC_PRGVAR   sHostName   : STRING;   Host : SysSocket.SOCK_HOSTENT;   pIPAddress  : POINTER TO DWORD;   in_addr     : INADDR;   sIPAddress  : STRING := 'aaa.bbb.ccc.ddd';   sTextEingabe: String;END_VAR(* Get own hostname. *)SysSockGetHostName(szHostName:=sHostName, diNameLen:=SIZEOF(sHostName));(* Get own IP address by its name. *)SysSockGetHostByName(szHostName:=sHostName,pHost:= ADR(Host));pIPAddress := Host.pAddrList[0];// select the adapter of addrList[]in_addr.ulAddr := pIPAddress^;SysSockInetNtoa(pInAddr := ADR(in_addr),szIPADDR := sIPAddress, diIPAddrSize:=SIZEOF(sIPAddress));BREdwin

Hi Edwin,Thank you. Its work well.  How to discover the possibilitése all those libraries that are not documented in the online help ?It lacks a Wikipedia section !  

great, and the mac adress?thx

Hi,yes even this is possible:You need to ad 'CmpSysEthernet' to the LibraryManagerthen then the following code snippet should help.Code:Code:getnumberofadapters(ADR(diNumber));FOR iAdapter := 0 TO diNumber DOPROGRAM PLC_PRGVAR   diNumber: DINT;   iAdapter: DINT;   stName: STRING(255);   stDescription: STRING(255);   aby_address:ARRAY[1..6]OF BYTE;END_VAR   getadapterinfo(   iAdapterNum := iAdapter,    pbName := ADR(stName),    pbDescrition := ADR(stDescription),    iBuffersize := SIZEOF(stName),    iMacLength := 6,    sMacAdress := ADR(aby_address));END_FORBREdwin

Thank You,work perfect.Thank you very much

Great!Is there possible to get a Serial number from CPU?Thank You!Best regards,Zdenko.

Great info! So is there a way to combine these two and get the IP address from eth0 always? Thanks

