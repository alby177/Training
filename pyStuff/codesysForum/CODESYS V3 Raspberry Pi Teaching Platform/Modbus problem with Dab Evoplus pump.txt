Hi,I have a DAB evoplus small pump with multifunction module (for modbus protocol):I used a LAN cable cat 6a from pump (A,B and ground connector) to USB-RS485 converter, connected to raspberry Pi 3:I want to read/write registers modbus for controlling pump.In codesys software, I see a error: a red/yellow pulse triangle (in slave_modbus_porta_COM):and the code don't work. Why ?Do you have any solution?

Hi,did you modify this USB converter to the plc configuration file?sudo nano /etc/CODESYSControl_User.cfg[SysCom]Linux.Devicefile=/dev/ttyUSBcheersplcmax

yes.this is my Codesys configuration file:Code:[SysFile]FilePath.1=/etc/, 3S.datPlcLogicPrefix=1[CmpSettings]FileReference.0=SysFileMap.cfg, SysFileMapFileReference.1=/etc/CODESYSControl_User.cfg[_]Linux.DisableFpuOverflowException=1Linux.DisableFpuUnderflowException=1Linux.DisableFpuInvalidOperationException=1[CmpBACnet]IniFile=bacstacd.ini[CmpWebServer]ConnectionType=0[CmpOpenSSL]WebServer.Cert=server.cerWebServer.PrivateKey=server.keyWebServer.CipherList=HIGH[SysMem]Linux.Memlock=0[CmpCodeMeter]InitLicenseFile.0=3SLicense.wbb[SysEthernet]Linux.ProtocolFilter=3[CmpSchedule]ProcessorLoad.Enable=1ProcessorLoad.Maximum=95ProcessorLoad.Interval=5000[SysCom]Linux.Devicefile=/dev/ttyUSBportnum := COM.SysCom.SYS_COMPORT1;

Hi,I would recommend to move[SysCom]Linux.Devicefile=/dev/ttyUSBportnum := COM.SysCom.SYS_COMPORT1;to the /etc/CODESYSControl_User.cfg if this is 3.5SP11 version.(because there is already a section for this)If done, which channels/function codes to read did you add to your modbus slave?BREdwin

ok. I moved:Code:[SysCom]Linux.Devicefile=/dev/ttyUSBportnum := COM.SysCom.SYS_COMPORT1;from /etc/CODESYSControl.cfg  to /etc/CODESYSControl_User.cfg This is screenshoot for function:and this is error in ModbusGeneric SerialSlave (pulse from "bus failure" to "not running"):You can download Modbus register for DAB Evoplus small pump's from here

ok. Solved !The Rs485-usb converter was broken.With new converter is all ok !

