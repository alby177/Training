Are there any way to turn my Raspberry Pi into an Ethernet/Ip adapter (Slave) in order to Read/Write Codesys arrays from an Allen Bradley ControlLogix PLC?I'm trying to find an easy way to make my Raspberry Pi communicate with a ControlLogix PLC through Ethernet. Any suggestions?Thank you.

Hi,this is an open point on the roadmap I see the following improvement in our database:CDS-31944 EtherNet/IP: Implement EtherNet/IP AdapterIs it possible to realize it vice versa Raspberry Pi = EtherNet/IP Scanner , Rockwell = EtherNet/IP Adpater?found this tutorial which demonstrates how to setup Ethernet/IP scanner(sure with another adapter): https://www.youtube.com/watch?v=QrV7laAJkDkBREdwin

Thanks for your reply but I don't think it is possible to use a ControlLogix as an Ethernet/IP adapter.Would it be possible to use Produced/Consumed tags over Ethernet/IP between CODESYS and a ControlLogix?

No, it's not possible. I think this feature ist availabel in version 3.5Sp7.The EtherNet/IP adapter in the actual version have not a functionality.This is the answer from the official codesys support:wir haben bisher nur den Scanner als eigenen Stack,der Adapter wird vermutlich zu 3.5Sp7 folgen,das heitß Sie können das aktuelle noch nicht mit dem PI MachenDer grund warum man den in CODESYS dazumachen kann ist weil er als BASIS für eine Hilscher Cifx Karte mal konfiguriert wurde..Bin mir aber nicht sicher ob das aktuell noch geht.Ich hoffe das wird aus dem CODESYS Setup entfernt werden und erst wieder reingemacht wenn unser eigener Slave StackFertig ist.

Thanks a lot for your reply.I'll be watching for 3.5 SP7.Thank you.

With the new Version V3.5 SP7 Patch 1 it works.The EtherNet_IP_Adapter must be version 3.5.7.10.                     Instructions in the appendix!

Hello,I am very new to CodeSys so if this is an obvious answer please bear with me.I was able to create a very simple project and add the EthernetIP modules for inputs & outputs.  I Configured an AB L32E Compactlogix processor for generic ethernet io and that appears to be functional as well.  The IO tree indicates no problems.  If I unplug the ethernet cable from the RPi the IO tree indicates an issue.  If I manually edit the input value it gets reset to zero.  So I am pretty sure the L32E is talking to the RPi OK.My goal was to have a single line ladder program that moved the Ethernet Input word to the Ethernet Output word.  Thus if I change the output word in the L32E it should show up in the input word in the L32E.  However I have been unable to accomplish this.  I can not even get the Ethernet Input word to show any indication that it is receiving data from the L32E. Any help would be greatly appreciated.

Progress!!!   But new questions.  I believe I ran into my 2 hr limit and after that the Ethernet devices had a red triangle next to them.  I could not figure out how to start the bus again so I deleted the ethernet/ip devices and re-entered them.  My simple program with a single rung (mov) instruction now works.   Not sure what the heck was wrong to begin with.  First new question, how do I get the red triangles to disappear without deleting & re-entering the Ethernet/IP devices?2nd Question, is there any way to have more than one input and one output word for the Ethernet/IO slave?

I also want to know how to add more IOs in the EthernetIp Module.It must be possible to exchange an array of bytes for exemple?Thank you.

Hi,that way.. and let me check if array's and more is possible.BREdwin

Hi everyone,Sure it's possible to use Raspi as an node with CompactLogix AB, but not sure if it's possible to read and write data, actualy, with my setup, i can read data from Raspi with my compactlogix, but in the other direction (Write Data from CompactLogix to Raspi), look's bad for the moment!At the Codesys Side (Raspi), i create 1 ENIP module (For Input transaction) and 1 ENIP module (For Output transaction) only Output working!From Compactlogix, to read data from raspi node, i use Service Code 0X0EH an it run and to tried to write data to Raspi, i used Service Code 0X10H but i receive this message (Unsupported service requested)!!!!  If somebody did, could you help me?RegardsEric Dostieiko innovations

Bastler83 wrote:With the new Version V3.5 SP7 Patch 1 it works.The EtherNet_IP_Adapter must be version 3.5.7.10.                     Instructions in the appendix!This looks very exciting. I can get the Pi online with no errors, but seems not able to read it from the Controllogix. Which CIP message should I use?I appreciate the help so much!

Hi,I would recommend to use the attached EDS file.This is the EDS which is installed in the CODESYS device repositoryBREdwin

Thank you for the reply Edwin!I tried to install the EDS file with RSLinx on the controllogix, however I still cannot get the Controllogix talk to the Pi...I attached some screenshots which indicates the communication loss.Any helps are highly appreciated!

Hi,if you are online is the EIP Adapter 'green'?You could add the device name of the adapter (name in the device tree) to the watchlist to have more diagnosis Information.BREdwin

Hi Edwin,Thank you for the reply. The image I attached was when the device online, and it was showing green to me.Still I can't read the [Outputs] tag of the Pi to the controllogix...I am using 1756-EN2T module as an Ethernet/IP communication for ControlLogix.After I installed the EDS file, it did not show up properly in the Controllogix' Ethernet/Ip list as well.

Hi,sorry I mean does it stay "green" after connection established...Need the info from screenshot.BREdwin

Looks like I do not get that error when the Pi is online.

Hi,hm..everthing Looks good from CODESYS side... next would be is to have a wireshark trace,this you could do on Raspberry Pi by for example tcpdump.Do you think this is possible?BREdwin

For this EDS, which device should I install it? the Pi or the Controllogix?I installed in the Controllogix side but seems that the eds file is not proper, since the Pi is not recognized in the Contrologix EIP list.Please let me know! Thank you very much for your help.Edwin Schwellinger wrote:Hi,I would recommend to use the attached EDS file.This is the EDS which is installed in the CODESYS device repositoryBREdwin

I figured it out. Thank you so much Edwin! 

phongpham, can you please share your solution. Thanks

Hello    I'm trying also to use the Raspberry as a Ethernet/IP slave with the Ethernet_IP_Adapter, I have followed the instructions on this topic and I have installed Edwin eds file, but my adapter has always a yellow triangle.Any more suggestions.Thamk you so much !

tonteria24 wrote:Hello    I'm trying also to use the Raspberry as a Ethernet/IP slave with the Ethernet_IP_Adapter, I have followed the instructions on this topic and I have installed Edwin eds file, but my adapter has always a yellow triangle.Any more suggestions.Thamk you so much !Hello, do you set up correctly the network eth0/wlan0 ? I guess that your problem is due to that!

Binarii wrote:Hello, do you set up correctly the network eth0/wlan0 ? I guess that your problem is due to that!Thank you, the network interface was correctly set to wlan0.I have found a solution,  if I add an "Ethernet/IP Scanner" device under the "Ethernet/IP Adapter" at the same level then both work correctly with green circle.

