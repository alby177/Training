Hello! I'm having trouble connecting Lexium32M servo  through Etherchat ,the error in the servo b122 -"One signal was missing andexpected second signal wasreceived at an incorrect pointin time. The master controllermay be unable to provide therequired synchronization signalsat the current cycle time,for example, due to insufficientcomputing power.Analyze the communication orincrease the cycle time". What to do next, I Do not Know 

Hi,is your eth0 exclusive used for ethercat ?1:1 connected to Lexium32?you need a realtime pachted kernel for using SoftMotion with distributed clocks.Seach the froum for 'emlid' this should point you in the right direction.BREdwin

Thank you for the quick reply! will try your advice!

Edwin Schwellinger wrote:Hi,is your eth0 exclusive used for ethercat ?1:1 connected to Lexium32?you need a realtime pachted kernel for using SoftMotion with distributed clocks.Seach the froum for 'emlid' this should point you in the right direction.BREdwinHi! Your advice did not help me, error active(

Pi may need to configure?

Hi,my recomendation was:1. Use rt_preempt pacthed Raspberry Pi Image - 'emlid' 2. Use the eth0 for ethercat 1:1 Connection nothing else is connected on eth0 except the Lexium323. Login to the PI with CODESYS either by Wlan or by a USB-Ethernet Adapter (eth1)Then it will work.If not: Check the plc logger for details.Add the name of the drive SMC_ETC_Schneider... into the Watchwindow and check the ErrorsGive us Information what the 7seg display on the drive reports (which error No)BREdwin

Hello I have done some test with Lexium Drives (M,I integrated) on EtherCAt with the Rasp.I hve used the real time patch (Elimd) and the DC are working and the Lexiums could fully controlled by the softmotion.I used a CNC application and the rasp is powerful enough.The only restictions are sometimes some jerks on the EtherCAT. I think the reason is the Ethernet on the USB and the runtime has a too big jitter.When you select a cycle time of 4ms these jerks disapear. Bruno

Hello If you do not need the softmotion and no hard synchronizationyou could also use the lexium drives with DS402 profile position modeI did already an example with some easy blocks to use Lexium32M, Lexium32I and ILx.I will post my examples and a descripitionBruno

The applications you could download on this link:https://schneider-electric.box.com/s/tl ... cvq8ylj659Bruno

Thank you! You can give a link to rt_preempt pacthed image raspberry Pi 'emlid' ?

Hello,here you could downloadhttp://docs.emlid.com/navio/Downloads/R ... inux-RPi2/Bruno

Thank you! You just need to install it?

Edwin Schwellinger wrote:Hi,my recomendation was:1. Use rt_preempt pacthed Raspberry Pi Image - 'emlid' 2. Use the eth0 for ethercat 1:1 Connection nothing else is connected on eth0 except the Lexium323. Login to the PI with CODESYS either by Wlan or by a USB-Ethernet Adapter (eth1)Then it will work.If not: Check the plc logger for details.Add the name of the drive SMC_ETC_Schneider... into the Watchwindow and check the ErrorsGive us Information what the 7seg display on the drive reports (which error No)BREdwinHello! The log shows 2 errors, the error on the display b122 -cyclic communication: incorrectsynchronization -One signal was missing and expected second signal was received at an incorrect point in time. The master controller may be unable to provide therequired synchronization signals at the current cycle time,for example, due to insufficient computing power.Analyze the communication or increase the cycle time.

B.Roth wrote:Hello,here you could downloadhttp://docs.emlid.com/navio/Downloads/R ... inux-RPi2/BrunoHi!You think You can do with your Raspberry?

Hi,you mean you are using Pi B or PI B+ instead of PI2 oder PI3?Did not test it with PI B/B+ not sure you Need to give this a try.PI2 is prooved to work with that Image.BREdwin

Edwin Schwellinger wrote:Hi,you mean you are using Pi B or PI B+ instead of PI2 oder PI3?Did not test it with PI B/B+ not sure you Need to give this a try.PI2 is prooved to work with that Image.BREdwinhi! Use PI2, did as you said there is no result(

Hello! Here is a screen with my Raspberry. Maybe you can help?

What is the problem?You have now a realtime linux. You have to install the CODESYS-runtime and thenyou could use my examples. (with a second ethernet-adapter)

Hello!Following your advice I have set that image. Could you tell me about next steps, perhaps it demands additional settings for raspberry?

B.Roth wrote:What is the problem?You have now a realtime linux. You have to install the CODESYS-runtime and thenyou could use my examples. (with a second ethernet-adapter)Hello, I have set the realtime linux, but the problem didn't disappear. The error the same like in my first message.

How do you connect with CODESYS? on the same port you are using the EtherCAT?You need a second Ethernet Interface (e.x. USB to Ethernet or WIFI) to connect with CODESYS.On the EterCAT only connect the Lexium32Bruno

B.Roth wrote:How do you connect with CODESYS? on the same port you are using the EtherCAT?You need a second Ethernet Interface (e.x. USB to Ethernet or WIFI) to connect with CODESYS.On the EterCAT only connect the Lexium32BrunoWith codesys I connect via eth1,and eth0 for LXM32 via 1:1.After initialization error Ethercat immediately on the drive. If You have the opportunity to do work with your Raspberry and post, I'll be highly grateful!

Hello,if you got this EB122 -error on the drive than you have really a problem with the realtime or your EtherCAtT-Task is not runnig correctly.Have you tried my easy example:Attachment:sturup_Cycletime.JPGAlso please check the version of devices, firmware in the drive.Attachment:version1.JPGAttachment:version2.JPGBruno

B.Roth wrote:Hello,if you got this EB122 -error on the drive than you have really a problem with the realtime or your EtherCAtT-Task is not runnig correctly.Have you tried my easy example:Attachment:sturup_Cycletime.JPGAlso please check the version of devices, firmware in the drive.Attachment:version1.JPGAttachment:version2.JPGBrunoHello! I tried Your project, same error, the firmware version of the drive I will throw off later.

Hello,please press "ResetMinMax" on the Tracer (the first measuring is not correct)Then you could see the real Jitter.Also try if you could reset the error on the drive itself or with MC_ResetDo you also have some other errors in the EtherCAT-Device or the Softmotionaxis?Attachment:status_ecat.JPGor in the log of the PLC ?Bruno

B.Roth wrote:Hello,please press "ResetMinMax" on the Tracer (the first measuring is not correct)Then you could see the real Jitter.Also try if you could reset the error on the drive itself or with MC_ResetDo you also have some other errors in the EtherCAT-Device or the Softmotionaxis?Attachment:status_ecat.JPGor in the log of the PLC ?BrunoHello! Screenshots of my CoDeSys, and log plk.Esli you have the time, this dosing errors immediately after the launch of EtherCAT.

Hello,I think you have a problem with the EtherCAt which not runing stable or it is disturbed.Did you have tested the Lexium with another EtherCat-Master e.x. a Beckhoff PLC to be sure the problem does not come from the drive.Bruno

B.Roth wrote:Hello,I think you have a problem with the EtherCAt which not runing stable or it is disturbed.Did you have tested the Lexium with another EtherCat-Master e.x. a Beckhoff PLC to be sure the problem does not come from the drive.BrunoHello! Want to check the drive in the PLC software CoDeSys, just to be clear! thanks for answering my questions!

Hi,from logger messages.Is the Lexium32 really 1:1 connected with eth0 and you Login by eth1for distributed clocks you need an exclusive used eth0 port for ethercat.Just to make this sure.BREdwin

Edwin Schwellinger wrote:Hi,from logger messages.Is the Lexium32 really 1:1 connected with eth0 and you Login by eth1for distributed clocks you need an exclusive used eth0 port for ethercat.Just to make this sure.BREdwin Hello! I followed Your advice, eth0 is connected to the actuator, and eth1ะบ codesys. Why not work I do not know(

Hi,ok,this seems the problem,I have never seen this.<Entry infoId="0" timestamp="06.04.2015 15:29:52" user="nobody" component="IoDrvEtherCAT" severity="error">Packet could not be sent, error code:1</Entry>Seems that somehow the frames are blocked whatever.No Switch connected? (Sorry when I ask this stupid questions) BREdwin

[quote="Edwin Schwellinger"]Hi,ok,this seems the problem,I have never seen this.<Entry infoId="0" timestamp="06.04.2015 15:29:52" user="nobody" component="IoDrvEtherCAT" severity="error">Packet could not be sent, error code:1</Entry>Seems that somehow the frames are blocked whatever.No Switch connected? (Sorry when I ask this stupid questions) BREdwin[/quoteHello! The drive is connected to eth0 of 1:1, in the drive you want to configure? On Monday I will try to connect to the soft PLC. Can will work)

Hello! Today I tried to connect to RTE Soft Motion, B122 error as in Raspberry. Maybe need to configure Lexium32?

Hello,there is nothing to configure on the Lexium32M using EtherCAT. Normally all necessary parameters will be written to the driveduring the startup-phase of the EtherCAT. Please check for the firmware-versions of the Lexium32M and the EtherCAT-modul. (But Lexium 32M is runningfor several years with the CODESYS runtime ) Also do a factory settings on the drive if you have flashed a firmware to the drive.Bruno

B.Roth wrote:Hello,there is nothing to configure on the Lexium32M using EtherCAT. Normally all necessary parameters will be written to the driveduring the startup-phase of the EtherCAT. Please check for the firmware-versions of the Lexium32M and the EtherCAT-modul. (But Lexium 32M is runningfor several years with the CODESYS runtime ) Also do a factory settings on the drive if you have flashed a firmware to the drive.BrunoHello! Here's the version of my drive.

You need the SoMove commisioning software with the Lexium DTM (Connecting with the CN7 port RS485-Modbus )http://www.schneider-electric.com/ww/en ... frame=truehttp://www.schneider-electric.com/ww/en ... frame=trueAttachment:version3.JPGBruno

B.Roth wrote:You need the SoMove commisioning software with the Lexium DTM (Connecting with the CN7 port RS485-Modbus )http://www.schneider-electric.com/ww/en ... frame=truehttp://www.schneider-electric.com/ww/en ... frame=trueAttachment:version3.JPGBruno

B.Roth wrote:You need the SoMove commisioning software with the Lexium DTM (Connecting with the CN7 port RS485-Modbus )http://www.schneider-electric.com/ww/en ... frame=truehttp://www.schneider-electric.com/ww/en ... frame=trueAttachment:version3.JPGBrunoDear, B.Roth , could you be so kind to consult me more detailed by Skype or correct my settings with TeamViewer by yourself? If you don't have free time for it, I'm ready to pay for your work. If you are agree, please mail a message to art617@yandex.ru

B.Roth wrote:You need the SoMove commisioning software with the Lexium DTM (Connecting with the CN7 port RS485-Modbus )http://www.schneider-electric.com/ww/en ... frame=truehttp://www.schneider-electric.com/ww/en ... frame=trueAttachment:version3.JPGBrunoDear Mr. Bruno Roth,I have set the firmware version 1.03 you have sent to me. The drive has worked immediately. Error B122 doesn't appear any more. Thank you for you help!!! I wouldn't tackle that problem on my own.Best regards,Baranov Artem.

