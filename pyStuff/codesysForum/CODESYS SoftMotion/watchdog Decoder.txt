Hi,I have an application using SoMachineV4.1 SP2 (PLC LMC058 + servodrivers LXM32). The application calculate the points and save in table (PVL.tabValores) and then this values are using in the decoder.  There are two while loops in the aplication, one for calculate the points and other do fill the GEO table/execute (loop_decoder.png). Both loops are used to reduce the time between execution of the differents "steps" of the movement.The loops are in different tasks. Im put debug boolean variables that set on when enter in the loop and reset when leave. None of those variable where set when the exception happen.The program works fine, but once a while the PLC got exception and stops. (Running fews days and stop).Attachment:description_exception.jpgTasks monitor normal cycle:Attachment:task_monitor_without_EXCEPTION.jpgTask monitor with exception:Attachment:task_monitor_WITH_EXCEPTION.jpgLoop decoder:Attachment:loop_decoder.pngLoop calcs:Attachment:loop_calc.pngThanks.

Hello,could you please attach the whole project or at least the task configuration to see the properties(cycle time etc)  ,do you have activated a watchdog for the decoding task?With LMC058 you have to be careful with while loops. Bruno

when took those pics the task configuration  were:Motion priority: 1type: External Can1_Sync  watchdog enabled: truewatchdog time: 250mssensitivity: 2Can0_Sync: priority: 2 type: External Can0_Sync  watchdog enabled: truewatchdog time: 300mssensitivity: 1Decoder priority: 3type: Cyclic  interval: 10mswatchdog enabled: truewathcdog time: 300mssensitivity: 2Mast priority: 15type: Freewheling watchdog enabled: truewathcdog time: 1000mssensitivity: 2Task_26 priority: 26type: Cyclic  interval: 1000mswatchdog enabled: truewathcdog time: 1000mssensitivity: 5Because of the max time of the decoder task, I create a new task moving some POU of the decoder task. Also changeg the decoder interval but keeps doing watchdog in a while. The new task must use in short interval have a pulse counter inside.Decoder priority: 3type: Cyclic  interval: 30msTask_04 priority: 4type: Cyclic  interval: 10mswatchdog enabled: truewathcdog time: 1000mssensitivity: 5

Hi.The thing that I will do is move all for loop code to the assync task, and start this code via an execute-done method.I make all my trajectory calcs, read-write files,... in the assync task.Enviat des del meu Aquaris M5.5 usant Tapatalk

Hello,you should use on LMC58 a lower prio for the Decoder-Task > 15 then also increment the cycle-time e.x. to 40ms and disable the watchdog.Also a freewheling task (Mast) on this controller is not a good idea this could also block other tasks which leads to a wachtdog. Bruno

I split the loop of the decoder task in other task calling by event.Also changed the MAST task to cyclic and the priorities.The wacthdog exception is not happing since those changes.Thanks a lot for helping.BR.

