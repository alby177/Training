In a project that uses CoDeSys 3.5 SP11, with Lexium 32M drives via EtherCAT, I had trouble ending the homing procedure. As can be seen from the chart, when the homing signal (blue track) returns to zero before the procedure is completed, the axis is stopped by the "MC_Halt" FB, which activates the "halt" bit of the word axis command, (green track). However, it can be seen from the red trace, when the axis velocity approaches zero (standstill?), The halt function concludes in advance of the stop motion and the axis resumes speed and continues the procedure of homing.To prevent this from happening, for the moment I have extended the persistence to 1 of bit 8 on the axis command word.The question is: Is there a way to adjust the SoftMotion library differently and do that, for example, do the functions consider the engine to be stopped with a bit delay or other adjustable, such as the zero speed threshold?

Hello,which homing routine do you are using? The homing driven by the drive executed with MC_Home or the SMC_homing from the PLC?Bruno

Routine 26, driven by the drive and executed with MC_Home.

Hello,normally the MC_Home is reporting a Done when the homing is finished.Please keep the Execute on TRUE until you get the Done or an Error.Bruno

In my point of view, this is not the way for answer. That mean that the homing can't be halted?  

Hello,a MC_Home could only be interrupted by a MC_Stop according PLCopen-state. There is no HALT allowed and implemented in the driver to the softmotion-interface.Bruno

