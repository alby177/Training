If have  el7031 working  using the pos control sample and it  works  perfect.question  in this example  you use plc  input in ST:SM_Drive_PosControl.in.bDriveStartRealState := TRUE;SM_Drive_PosControl.in.bRegulatorRealState := TRUE;are this  in puts  you can also set in i/o mapping of the el 7031 ??How do I set these inputs  if I want to use CFC  or FB  for programming. This are not inputs  on MC power and  you need to set them them to acticate the drive.it are also not  inputs on the visualisation  of MC power.

Hi.I never use it, but as I can see, AXIS_REF_POSCONTROL, extends from AXIS_REF_SM3. You can pass it to MC_POWER, and call it from you want.Now you are working with AXIS_REF directly, it is easy to work with, but when you are working with sequential languages (SFC) could be better work with standard PLC_OPEN (MC_POWER, MC_MoveAbsolute...).At the end, PLC_OPEN blocks works with AXIS_REF modifying his in_outs to tell motion control to do as you want. Talking in OOP words is as you would work from outside an instance modifying the instance variables. It is better to access variables via methods.

Thanks  for  you answer but  i think we  not talking about the same. i was talking about  :SoftMotion > Example Applications > Position Control on the "SM_Drive_PosControl" Controller (i can not find info about  :AXIS_REF_POSCONTROL).please correct if  i, m wrong or explain in more detail  please

I have found the help on Codesys Online Help:It seems that this two inputs are needed by the axis control to work. Normally that signals come from bus comunication, but if you are using analog signals is possible that you cannot access its. (you can redirect that servo states to digital outputs and connect that DO to your PLC DInputs, after that pmap this signals as you have map speed consign). If you cannot access its, put this signals at true where you want (Axis_ref is global). Its tells control that servo is closing speed loop and is not making an quick stop. You don't need its to control your system.Attachment:Captura de 2017-05-08 22-18-45.png

thx for your  help.You are right ,  you can set  the  inputs true  every where,  but it would be easier  if  you  could just  enable  mc_power and the motor works  Maybe sombodey knows if you can set the inputs true in the  i/o  mapping of the EL 7031.The  el7031 is not (yet) supported by codesys  .  I think that is  a pitty because it is one of the cheapest way to  connect  a  steppermotor  to ethercat / codesys  and play with it .I think stepping into softmotion would be a  lot more  fun  for  a lot of people  if this would be  a plug and  play drive  for   the  nema  17 stepper motor range .

