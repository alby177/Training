Hello, I want to control beckhoff motor using EL7201 module , but how to add the drive in the module?I tried using SM_Drive_PosControl and tried to link then to the physical axis but not able to move it, but the SM_Drive in softmotion seems working fine , all the Function blocks added which are required to move the motor. (MC_Power, MC_moveabsolute , MC_reset etc.)Already programmed this drive in TwinCat and its running fine , So want to know how to configure this module for the motor.BR,Malav

Hi,in this case there is a Softmotion Driver available.. which you could use.See screenshot. Not needed to use poscontrol.But you need to change the EL7201 to DS402 Version. (See the PDF in the library for details)BREdwin

Thank you for the quick reply.I have attached the drive in the project and when i run it , its shows no error.But i am not able to move the motor either in configuration mode or using MC_Jog.Following are the issue I am facing right now :1) When i enable it using MC_power , the module shows the enable signal and the drive also has no error. Also When i try to job it in positive direction using MC_jog , it shows the busy bit on and no error in the MC_jog FB , but the motor doesn't move and after sometime the limit led is lit up in the module. Velocity and acc. and all the parameter are given according to my project in TwinCat. I have also imported the XML file of Start-up Parameters in my project.2) In configuration mode , When i power on the drive and then try to job it , the position seems to change on the screen but physically its the same. But if i have mannually released the brake in the start up parameters and move the shaft manually a little , then on clicking the power on , it returns back to the original position , so i think my configuration regarding the motor seems ok. Also the motor gets overheated a lot. It has nothing to do with the Pi,right?If you want, I will attach the project.BR,Malav

Hi,yes please attach the project.- did you change the drive Firmware to ds402 as in the pdf is mentioned?- You write Pi, you know that you need a realtime kernel for using ethercat and distributed clocks on the PI otherwise it will not work,BREdwin

Hi ,1) Yes I did change according to what you mentioned. The PDF was not opening in codesys (As it gave an error of                  referenced file not in that place) , so i did search on net and got some relevant PDF to it. My drive does get active and does get enable , so I don't think it must be a DS402 Issue.2) If required , I will use RT_Preempt or any other kernel to reduce the interpolation time. But right now I just want to control it using PI as a Medium from my computer. I have attached my project, I have imported the start up parameters from Twin Cat Project , that project i am already using in my 2 and 3 axis system.BR,Malav

Hi,I recommend two changes in your project. 1. Add TargetPosition to the PDO's2. Change in the generic device Editor view (Tools - Options - Device Editor-> Show generic device configuration)FrameAtTaskStart ->trueBREdwin

Hello Edwin,So I did the changes.I am Attaching the project with the changes. So now in configuration mode , the motor is working fine. It has no issue in operation. But while running through POU, it gives me the same issue. I can enable it , but when i want to run it using move_absolute , it doesn't move and the torque value does keep on changing continuously. Can it be due to ground not connected in the system? (I will have to wire the system for the same.)BR,Malav

Hi Malav,at the Moment I could not see any Problem in your project,could you check the following variables in the watchwindowDrive.strDriveInterfaceErrorDrive.fbeFBErrorif this does not help I need to check with my drive or we need to check online. BREdwin

Hello Edwin,I would like to thank you for pointing out my mistake. It was because , i did not add the Axis deceleration speed , so it was giving invalid velacc error in MC_Move_Absolute block.The system is working fine, but the issue is  when i stop the system and log out of the pie. When i again start it by logging in , the EL7201 will show not working. But when i go to the configuration settings and then again start the system , it work fine again. ( So when i delete the PLC data it works. Any solution to Stop this fro happening?)Best Regards,Malav

