Hi thereI have Codesys by Festo v3.5 and have created a project and selected a Codesys win v3 as the main device in the project. (I would like to use my PC as a soft PLC) I would like to add an ethercat device to this, so I added a Ethercat master from one of the default options from the software. But now I cant seem to add another ethercat slave to this. How do I proceed? I have selected the Festo CPX-FB38 as the ethercat slave to link to the ethercat master.Please see the attachment.Kind regardsRussell

Hi Russell,you need to add the SysEthernet Component to CODESYSControl.cfg"c:\Program Files (x86)\3S CODESYS\GatewayPLC\CODESYSControl.cfg"  [ComponentManager]Component.1=CmpTargetVisuStubComponent.2=CmpCodeMeterComponent.3=CmpWebServerComponent.4=CmpWebServerHandlerV3Component.5=SysEthernetThen connect to the Control Win plc browse the networkcard. (set mac ID, if you do not see your nic's you Need to istall WPcap)Then download the project und execute theethercat scan by rightlick on ethercat master.BREdwin

Hello I'm a newie with codesys and my duty is to set up a system with - Codesys Control WIN V3 installed on notebook DELL latitude 6020 - Ethercat slave (Stäubli robot)I have installed winPcap as mentionned in the online Help of the 'Codesys development system' and modified c:\Program Files (x86)\3S CODESYS\GatewayPLC\CODESYSControl.cfg as mentionned in this thread. The NIC installed inside my notebook is an intel 82579LM gigabit controler network which is not in the list mentionned here:viewtopic.php?f=24&t=6065Nevetheless, when I clic the 'Browse' button in the Ethercat Master 'General tab' I do see the correct MAC ID. This let me think that this NIC is supported , am I right ?The task associated with Ethercat_Master appears under MainTask.Then, I installed the Ethercat slave  (Tools-->Device repository--> install)  with the xml file stäubli provided me and added this slave under EtherCAT_Master device.I associated a boolean variable to one of the IO of the slave (with Ethercat I/O Mapping tab)After project Build and download to Control WIN, the  status of the Ethercat master is 'not running'Diagnostic message says ' no connection to slave' I suppose that finally my network card is not supported ?  I must say I'm stuck and don't know how to go on I would appreciate if someone could help me.Igor

Hi kurvanov，If your using Codesys Control Win V3, you just need to flow the step that Edwin provide :-1. Install the WinPcap2. Add this Component.5=SysEthernet into "c:\Program Files (x86)\3S CODESYS\GatewayPLC\CODESYSControl.cfg" If your Using Codesys RTE, then you need the recommend network card from codesys :-1.uninstall the network card driver2. install the network card driver that come with Codesys RTE.For the physical ethercat cable connection, if you have selected the ethernet card for EtherCat usage :-1. Just make sure the the is one direct network cable out from your network card and go into your robot.2. The cable shall not go thru any network switch.3. Make sure the robot already have the ethercat function enabled.4. Do not assign a static IP Address for the network port that you choice for EtherCat.Thank youJohn Lee

Hello I thank yo very much for your quick answer.I'm using Codesys Control WIN V3 and have followed the mentionned steps , as shown in the attachments (WinpCap installed and COdesysControl.cfg mofified)Codesys version is V3.5 SP7 patch 1for checking my hardware, I did the following: I used TwinCat system manager to auto detect devices. This utility software did detect an Ethercat Master configured for the network board installed in my PC. Then I scanned the Ethercat network and the ethercat slave (my robot) is detected correcly. This leads me to think that the hardware is OK isn't it ? Back with Codesys, I rebuid, download an start my project but ... EtherCAT master not running , and diagnostics Message shows : 'Network adapter could not be opened'I understand what it means but not why it could not be opened.I do not find any information about origin of this error and would appreciate any help.I don't want to finish the week with such a defeat.   [code][/code]

Hi,CODESYSContol.cfg seems to be correct.Is this an virtual environment which you are using?Usually if the browsing of the mac address works open of the networkcard should work too.Could you give us a screenshot of the plc logger. (In case of scanning the ethercat slave devices)BREdwin

Hi EdwinI am not using a virtual environment but WIN XP or Win7Quote:Could you give us a screenshot of the plc logger. (In case of scanning the ethercat slave devices)Sorry I don't understand what you mean Would you like a screenshot of the result of twinCat system manager (BTW this is a V2 version) ? OrA result of a scanning done with codesys V3 development system ? I have not found how I can scan the ethercat bus.Since I have twinCat and codesy installed on the same PC,I'ml currently checking if a twincat service is remaining active which would deny any access to the network card of my PC. Btw , is there somewhere some log files from codesys where I could check what is happening or that I may provide you with.thanksIgor

Hi,see my screenshot.The procedure is:1. Install the Esi (XML files) from your slave to CODESYS -> Tools-DeviceRepository install2. Download the Project to the Control Win plc3. right click on the ethercat master & scan for devices (now your slave should be reconnized and identified if connected to the network on this networkinterface )4. if not -> check the plc logger for more InformationBREdwin

Good morning EdwinI attach a screen shot as well as an export of the logger.I have the feeling that I do as you told me. Please check message with timestamp 8:44 and newer. Before I started the scan, my slave was in INIT modeThe sclave seems to be detected. I could 'add the device to my project' and i can see the process DATA. I have not link any variable to the IOs yet.Once the scan is finished my slave is in PRE-OPERATIONNAL mode.Nevertheless, the Ethercat master remains still 'not running'  (Status tab of EtherCAT_master'During the scan , I get one error : 'No child connectors found'' , what does it means ?Then, the scan seems to finish unsuccessfully with a an information 584_0000011000000001 (Which is the Id of the slave - display in Information Tab of the slave device) How can I switch/force the slave in OPERATIONNAL mode.I thank you for your help.

Hi,till that point, everything is ok.Now start your project an send the log again,there should be some more Information why the salves does not switch to operational.BREdwin

Hi edwin, Everything is working well now. In fact, it was OK since the beginning but I did not understand that the Ethernet Master runs only when you start the project on the Control WIN plc.I 've greatly appreciated your help.best regards

Hi all,I have a problem using Codesys running whareouse using Sycon comunication system.I have set this component:C:\Program Files\3S CODESYS\CODESYS Control RTE3\CODESYSControl.cfg[ComponentManager]Component.1=CmpDrvSchedulerAMPComponent.2=CmpCodeMeterComponent.3=CmpHilscherCIFX I have set parameters in ControlCodesys, but not run slave in codesys. Why?help me please.Here the problem.Thank you.

