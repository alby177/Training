Hello everybody,I would like to sync the date of my PLC with the local world clock.There is a Festo PLC (linux based, just as a Raspberry PI) and a windows 7 based standard PC. The PC has 2 ethernetcard: one for internet and one for the PLC. The PLC sends information via OPC-UA.The problem: any time the PLC communicate with the PC it sends its timestamp and it's different.Is there any way to sync the PLC time with the PC time via Codesys? Or maybe under linux?Thank you,Gerg√∂

A couple of ideas:Have the PC send it's clock time to the control for the control to adjust to.  If this is possible, this may be your best bet as you wanted the controller timestamps match the PC.Oscat (oscat.de) has a network library that has a SNTP_CLIENT FB where you can get the time from a SNTP server.  With this solution, your controller could sych to a world clock (hopefully the PC does too).  This won't work if the controller cannot reach the internet (or you install a SNTP server on the PC...).

_________________Scott CunninghamKEB America, Inc.www.kebblog.comwww.kebamerica.com

Dear scott_cunningham,Thank you for your answer! I will try the second case with sntp server and the oscat library.

Dear scott_cunningham,As I figured out the SMTP library is in the oscat newtork package, however this package is not available for codesys 3.5. Do you know why, or am I making something wrong?

Search for OSCAT in the CODESYS store.

Dear yannickasselin1 ,thank you for the tip, I found it!

Hello guys,I'm still facing with the issue of the time sync. I'm trying to use the oscat library sntp_client. I set the sntp server in my windows as attached in the picture. With Siemens plc that works.Than I call the sntp function block of the oscat library. I set the IP, than I give high signal to the activate input, but nothing happens. Do you know what am I missing? I do no give any value for the S-BUF. Shall I do?Thank you,Gergo

You can check my SNTP example which use NBS Library (SP7 Patch4): download

Hello e.kislov,your example just works fine! Many thanks for the help!BR,Gergo

