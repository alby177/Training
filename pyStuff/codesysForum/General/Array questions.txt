Dear all,1.is it possible to declare an array, with a size taken from initializer.In C it is:int a[]={1,2,3}How I do the same in codesys?Please note, I DON'T request run-time dynamic array. I only request to don't declare a size abut take it from amount of initializers, like in C.2. How array are passed in function blocks?Var inputinvar array [0..5] of int;end varWhat is passed only the "reference" or the copy of the whole array on the stack. If so, how do I only pass array by reference? I want to read from array inside of the block, but don't want to write something back.Note: Pointers are not allowed in my company.Thanks a lot!

An answer to your second question:There are two solutions for passing an array reference without passing the whole array while not using pointers:Use VAR_IN_OUT - this forces the inclusion of the variable on every call and uses by reference behind the scenes.  The downside is if you really just want a var input, you could adjust the value inside the FB without problems and create bugs.Use the keyword REFERENCE TO when you define your variable.  It will pass the variable by reference and you can use it for VAR_INPUT, VAR_OUTPUT, and VAR.  I put an example below.  Be aware you should still check for validity of the reference in case it has never been set!  Hint - if you only use REFERENCE TO in Method VAR_INPUTS, the programmer must assign it, so you don’t have to check validity!Code:VAR_INPUT   History : REFERENCE TO ARRAY[0..99] OF DWORD;END_VAR

_________________Scott CunninghamKEB America, Inc.www.kebblog.comwww.kebamerica.com

Thanks a lot, Scott!I would like ask Codesys (if they read) to implement Const References for that and also implement my 1. point in ST.

EmbeddedSalsa wrote:Note: Pointers are not allowed in my company.Why???  

